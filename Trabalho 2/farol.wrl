#VRML V2.0 utf8

PROTO CircleExtrusion [

	field MFVec2f scale 1 1

	field SFColor color 1 0 0

	field MFVec3f spine [0 0 0, 0 1 0] 
	
	field SFBool caps FALSE

	field SFFloat angle 1

]{

	Shape {

		geometry Extrusion {

			crossSection [1 0, 0.966 0.259, 0.866 0.5, 0.707 0.707, 0.5 0.866, 0.259 0.966, 0 1, -0.259 0.966, -0.5 0.866, -0.707 0.707, -0.866 0.5, -0.966 0.259, -1 0, -0.966 -0.259, -0.866 -0.5, -0.707 -0.707, -0.5 -0.866, -0.259 -0.966, 0 -1, 0.259 -0.966, 0.5 -0.866, 0.707 -0.707, 0.866 -0.5, 0.966 -0.259, 1 0]	
	 
			spine IS spine

			ccw	FALSE

			endCap IS caps

			beginCap IS caps

			scale IS scale

			creaseAngle	IS angle
		}

		appearance Appearance {

			material Material {

				diffuseColor IS color

			}

		}

	}

}

PROTO Hexagon [
	field MFVec3f spine [0 0 0, 0 1 0]
	field MFVec2f scale 1 1
	field SFBool wallsOutside TRUE
	field SFBool endCap TRUE
	field SFBool beginCap TRUE
]
{

	Shape {

		geometry Extrusion {

			crossSection [ 1 0.4, 1 -0.4, 0.4 -1, -0.4 -1, -1 -0.4, -1 0.4, -0.4 1, 0.4 1, 1 0.4 ]
			
			spine IS spine

			scale IS scale

			ccw	IS wallsOutside

			endCap IS endCap

			beginCap IS	beginCap

		}

		appearance Appearance {

			material Material {

				diffuseColor 0.2 0.2 0.2

			}

		}

	}

}

PROTO LighthouseBase [
]
{
	Group {

		children [

			Shape {

				geometry Extrusion {

					crossSection [ 1 0.4, 1 -0.4, 0.4 -1, -0.4 -1, -1 -0.4, -1 0.4, -0.4 1, 0.4 1, 1 0.4, 0.9 0.3, 0.3 0.9, -0.3 0.9, -0.9 0.3, -0.9 -0.3, -0.3 -0.9, 0.3 -0.9, 0.9 -0.3, 0.9 0.3, 1 0.4]
				  
					spine [0 0 0,   0 0.3 0, 0 0.3 0, 0 0.6 0, 0 0.6 0, 0 0.9 0, 0 0.9 0, 0 1.2 0, 0 1.2 0, 0 3.5 0, 0 3.5 0,   0 3.8 0,   0 3.9 0, 0 3.9 0,   0 4 0] 

					scale [8.8 8.8, 8.8 8.8, 8.7 8.7, 8.7 8.7, 8.6 8.6, 8.6 8.6, 8.5 8.5, 8.5 8.5, 8.3 8.3, 8.3 8.3, 8.37 8.37, 8.37 8.37, 8.6 8.6, 8.65 8.65, 8.65 8.65] 					
				}

				appearance Appearance {

					material Material {

						diffuseColor 1 1 0

					}

				}

			}

			Hexagon	{
				  
				spine [0 0 0, 0 4 0] 

				scale 6.8 6.8	

				wallsOutside FALSE

				endCap	FALSE	 

			}

			Transform {

				translation	0 0.01 4.8

				children Shape {

					geometry Extrusion {

						crossSection [-0.5 0, -0.5 -1.7, -0.3 -2, 0.3 -2, 0.5 -1.7, 0.5 0, 0.8 0, 0.8 -1.7, 0.4 -2.3, -0.4 -2.3, -0.8 -1.7, -0.8 0, -0.5 0]

						spine [0 0 0, 0 0 2] 

					}

					appearance Appearance {

						material Material {

							diffuseColor 0 1 0

						}

					}

				}

			}

		]
	}
}

PROTO LighthouseStrip [
	field SFColor color 0 0 1
]
{

	Shape {

		geometry Extrusion {

			crossSection [0 0, 0.3 1, 0.6 1, 0.3 0, 0 0]
		   
		    spine[1 0 0, 0.966 0.16 0.259, 0.866 0.32 0.5, 0.707 0.48 0.707, 0.5 0.64 0.866, 0.259 0.80 0.966, 0 0.96 1, -0.259 1.12 0.966, -0.5 1.28 0.866, -0.707 1.44 0.707, -0.866 1.60 0.5, -0.966 1.76 0.259, -1 1.92 0, -0.966 2.08 -0.259, -0.866 2.24 -0.5, -0.707 2.40 -0.707, -0.5 2.56 -0.866, -0.259 2.72 -0.966, 0 2.88 -1, 0.259 3.04 -0.966, 0.5 3.20 -0.866, 0.707 3.36 -0.707, 0.866 3.52 -0.5, 0.966 3.68 -0.259, 1 3.82 0]
					

			scale []
		}

		appearance Appearance {

			material Material {

				diffuseColor IS color

			}

		}

	}

}

PROTO LighthouseTower [
]
{
	CircleExtrusion { 
		
		scale [8.5 8.5, 6 8, 5.8, 5.8, 8.3 8.3]
	
		spine [0 0 0, 0 52 0, 0 52 0, 0 0 0]

	}
}


PROTO PorchFenceAndSupport [
]
{	
  	PROTO ScaledSphere [
		exposedField SFVec3f scale 1 1 1
	]
	{
		Transform {

			scale IS scale

			children Shape {

				geometry Sphere	{

					radius 0.01

				}

				appearance Appearance {

					material Material {

						diffuseColor 1 0 1

					}

				}

			}
		}
	}

	Group 
	{

		children [

			Hexagon	{
			
				spine [ 0 0 0, 0 0.1 0 ]

				scale 0.1 0.1

			}	

			
			Transform {

				translation	0 0.25 0

				children ScaledSphere { scale 10 3 10 }

			}

			Transform {

				translation	0 0.25 0

				children ScaledSphere { scale 8 1 8 }

			} 

		]

	}

}

PROTO PorchBase [
]
{
	
	CircleExtrusion 
	{ 
		
		spine	[ 0 0 0, 0 0.1 0 ] 
		
		color 1 0.5 1 

		scale 3.8 3.8

		caps TRUE
	
	}

}



Group {

	children [

		LighthouseBase { }

		Transform {
		
			translation 0 4 0

			children LighthouseTower { }
			
		}

		Transform {

			translation	0 56 0
		   
			children PorchBase { }

		}

		LighthouseStrip { }

		Transform {

			translation	0 1 -0.3

			children LighthouseStrip	{ color 0 1 0 }
		}

		PorchFenceAndSupport { }

	]

}